/* ====== Earth-Tone Theme (classic layout) ====== */
:root{
  --bg: #f6f4ef;              /* warm paper */
  --text: #1b1b1b;            /* near-black */
  --muted: #6b6b6b;

  /* earth accents */
  --leaf: #2e7d32;            /* deep green (primary) */
  --leaf-600:#256628;
  --sky:  #3b82f6;            /* sky blue (links/secondary) */
  --sun:  #f59e0b;            /* sunset amber (highlights) */
  --clay: #8d6e63;            /* clay brown */
  --sand: #e7dcc9;            /* light sand bg chip */

  /* surfaces */
  --card: #ffffff;
  --card-border:#e7e2d9;
  --shadow: 0 10px 25px rgba(27,27,27,0.06);

  /* controls */
  --btn-primary: var(--leaf);
  --btn-primary-hover: var(--leaf-600);
  --btn-secondary: #edf7ee;   /* pale green wash */
  --btn-secondary-text: #194a1c;
  --btn-ghost-border: #d7d2c7;

  /* alerts */
  --info-bg:#e8f0fe; --info-text:#1e40af; --info-border:#c7d2fe;
  --success-bg:#edf7ee; --success-text:#1b5e20; --success-border:#b7e1bf;
  --warn-bg:#fff7e6; --warn-text:#92400e; --warn-border:#f6d398;
  --error-bg:#fdecec; --error-text:#7f1d1d; --error-border:#f6b1b1;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container{
  max-width: 1100px;
  margin: 28px auto 80px;
  padding: 0 20px;
}

/* Header (centered) */
.site-header{
  background: linear-gradient(180deg, #f4efe7 0%, #f6f4ef 100%);
  border-bottom: 1px solid var(--card-border);
}
.site-header .container{
  padding: 28px 20px 20px;
  text-align:center;
}
.site-header h1{
  margin:0 0 6px; font-size: 32px; font-weight: 800; letter-spacing:.2px;
}
.site-header .tagline{
  margin:0; color: var(--muted);
}

/* Cards & sections */
.card{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 14px;
  padding: 18px;
  box-shadow: var(--shadow);
  margin-bottom: 18px;
}
.section-head{
  display:flex; align-items:center; gap:10px; margin-bottom:12px;
}
.section-head h2{ margin:0; font-size:20px; }
.pill{
  font-size:12px; padding:4px 10px; border-radius:999px;
  background: var(--sand); border:1px solid var(--card-border); color:#5c4e3f;
}

/* Editor grid */
.editor-grid{
  display:grid; gap:16px; grid-template-columns: 1fr; 
}
@media (min-width: 1000px){
  .editor-grid{ grid-template-columns: 1fr 1fr; }
}
.editor-pane .label{ display:block; font-weight:600; margin-bottom:8px; }
textarea{
  width:100%; resize:vertical;
  background:#fff; color:var(--text);
  border:1px solid var(--card-border); border-radius:10px;
  padding:12px 14px; line-height:1.45; min-height:260px;
}
.subrow{
  display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:8px;
}
.char-count{ color: var(--muted); }

/* Options row */
.options-row{
  display:flex; flex-wrap:wrap; gap:12px;
}
.option{
  display:flex; flex-direction:column; gap:6px;
}
select{
  padding:10px 12px; border-radius:10px; border:1px solid var(--card-border);
  background:#fff; color:var(--text);
}

/* Controls */
.controls{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center;
}
.divider{
  width:1px; height:28px; background:#e5e1d9; margin:0 6px;
}
.spacer{ flex:1 1 auto; }
.usage-counter{ color: var(--muted); margin:0; }

/* Buttons */
.btn{
  border:none; border-radius:10px; font-weight:600; cursor:pointer;
  padding:12px 16px; transition: background .15s ease, border-color .15s ease;
}
.btn.small{ padding:8px 12px; font-weight:600; }
.btn.primary{ background: var(--btn-primary); color:#fff; }
.btn.primary:hover{ background: var(--btn-primary-hover); }
.btn.secondary{ background: var(--btn-secondary); color: var(--btn-secondary-text); }
.btn.secondary:hover{ filter: brightness(0.97); }
.btn.ghost{
  background:#fff; color: var(--text); border:1px solid var(--btn-ghost-border);
}
.btn.ghost:hover{ background:#faf8f2; }
.btn.icon{ background:transparent; border:1px solid var(--btn-ghost-border); }
.btn:disabled{ opacity:.7; cursor:not-allowed; }

/* Alerts */
#messages{ margin-bottom: 14px; }
.alert{
  border-radius:10px; padding:12px 14px; border:1px solid transparent; margin:8px 0;
}
.alert.info{ background:var(--info-bg); color:var(--info-text); border-color:var(--info-border); }
.alert.success{ background:var(--success-bg); color:var(--success-text); border-color:var(--success-border); }
.alert.warn{ background:var(--warn-bg); color:var(--warn-text); border-color:var(--warn-border); }
.alert.error{ background:var(--error-bg); color:var(--error-text); border-color:var(--error-border); }

/* Banner (Lesson 15) */
.banner{
  display:none; border:1px dashed var(--card-border); background:#fffbef; color:#7a4a00;
  padding:10px 12px; border-radius:10px; margin-bottom:14px;
}

/* Spinner */
.spinner{ width:18px; height:18px; border:3px solid #e5e1d9; border-top-color: var(--leaf);
  border-radius:50%; display:inline-block; animation:spin .8s linear infinite; vertical-align:-3px; margin-right:8px; }
@keyframes spin{ to{ transform: rotate(360deg); } }

/* Results grid */
.results-grid{
  display:grid; gap:16px; grid-template-columns: 1fr;
}
.results-grid h3{ margin:0 0 8px; }
@media (min-width: 900px){
  .results-grid{ grid-template-columns: 1fr 1fr; }
}
ul{ margin:6px 0 0; padding-left: 18px; }

/* --- Results grid: Analysis (2x), Top JD Terms, Missing Terms --- */
.results-grid-3 {
  display: grid;
  gap: 16px;
  grid-template-columns: 2fr 1fr 1fr; /* Analysis is ~2x the width */
  grid-auto-rows: auto;
}

/* Cards in results */
.results-grid-3 .card {
  background: var(--surface);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  padding: var(--pad);
}

/* Make Suggested Actions span all columns (row 2 full width) */
.results-grid-3 .full {
  grid-column: 1 / -1;
}

/* Responsive: stack on smaller screens */
@media (max-width: 900px) {
  .results-grid-3 {
    grid-template-columns: 1fr;
  }
  .results-grid-3 .full {
    grid-column: auto;
  }
}

/* Modal */
.modal-backdrop{
  position:fixed; inset:0; background: rgba(0,0,0,.35); z-index: 30;
}
.modal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index: 40;
}
.modal > .modal-header,
.modal > .modal-body,
.modal > .modal-footer{ display:none; } /* prevent FOUC */
.modal .modal-header,
.modal .modal-body,
.modal .modal-footer{
  display:block;
}
.modal > div{
  background:#fff; width:min(520px, 92vw); border-radius:14px; border:1px solid var(--card-border); box-shadow: var(--shadow);
  padding:16px 16px 14px;
}
.modal-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.modal-body{ display:flex; flex-direction:column; gap:10px; }
.modal-body input{
  padding:10px 12px; border:1px solid var(--card-border); border-radius:10px;
}
.modal-footer{ display:flex; gap:10px; justify-content:flex-end; margin-top:10px; }

/* Footer */
.footer{ text-align:center; color: var(--muted); padding: 24px 0 40px; }